knitr::opts_chunk$set(echo = TRUE)
install.packages(reticulate)
library(reticulate)
knitr::opts_chunk$set(echo = TRUE)
install.packages("reticulate")
library(reticulate)
install.packages(c("reticulate", "syuzhet"))
install.packages(c("reticulate", "syuzhet"))
?conda_version
# install.packages(c("reticulate", "syuzhet"))
library(reticulate)
knitr::opts_chunk$set(echo = TRUE)
# install.packages(c("reticulate", "syuzhet"))
library(reticulate)
use_condaenv("py11") # On my machine this is configured to use Python 3.11
reticulate::repl_python()
reticulate::repl_python()
knitr::opts_chunk$set(echo = TRUE)
# install.packages(c("reticulate", "syuzhet"))
library(reticulate)
use_python_version("3.11")
knitr::opts_chunk$set(echo = TRUE)
# install.packages(c("reticulate", "syuzhet"))
library(reticulate)
use_python("/opt/homebrew/bin/python3.11")
reticulate::repl_python()
reticulate::repl_python()
reticulate::repl_python()
reticulate::repl_python()
knitr::opts_chunk$set(echo = TRUE)
# install.packages(c("reticulate", "syuzhet"))
library(reticulate)
use_python("/opt/homebrew/bin/python3.11")
reticulate::repl_python()
reticulate::repl_python()
knitr::opts_chunk$set(echo = TRUE)
# install.packages(c("reticulate", "syuzhet"))
library(reticulate)
use_python("/opt/homebrew/bin/python3.11")
reticulate::repl_python()
reticulate::repl_python()
source("~/github/romantic-self/scripts/sentiment-analysis.R", echo=TRUE)
source("~/github/romantic-self/scripts/sentiment-analysis.R", echo=TRUE)
?import
# Get biography corpus
reticulate::import("romanticself")
source("~/github/romantic-self/scripts/sentiment-analysis.R", echo=TRUE)
corpus <- readr::read_csv("data/biography-corpus/all-sentences.csv")
corpus
corpus <- readr::read_csv("data/biography-corpus/all-sentences.csv") %>%
mutate(
syuzhet = get_sentiment(text, method="syuzhet"),
bing = get_sentiment(text, method="bing"),
afinn = get_sentiment(text, method="afinn"),
stanford = get_sentiment(text, method="stanford")
)
?get_sentiment
get_sentiment("my name is death", method="stanford", path_to_tagger="/opt/homebrew/Cellar/stanford-corenlp/4.4.0")
get_sentiment("my name is death.", method="stanford", path_to_tagger="/opt/homebrew/Cellar/stanford-corenlp/4.4.0")
?pivot_longer
# Sentiment analysis of the biographies in the corpus using syuzhet
library(syuzhet)
library(tidyverse)
corpus <- readr::read_csv("data/biography-corpus/all-sentences.csv") %>%
mutate(
syuzhet = get_sentiment(text, method="syuzhet"),
bing = get_sentiment(text, method="bing"),
afinn = get_sentiment(text, method="afinn")
) %>%
pivot_longer(
cols = syuzhet:afinn,
names_to = "model",
values_to = "score")
write_csv(corpus, "data/biography-corpus/scored-sentences.csv")
write_csv(select(corpus, -text), "data/biography-corpus/scored-sentences.csv")
select(corpus, -text)
install.packages("vader")
# Sentiment analysis of the biographies in the corpus using syuzhet
library(tidyverse)
get_vader_sentiment <- function(text) {
df <- vader::vader_df(text)
dplyr::select(df, compound)
}
corpus <- readr::read_csv("data/biography-corpus/all-sentences.csv") %>%
mutate(
syuzhet = syuzhet::get_sentiment(text, method="syuzhet"),
bing = syuzhet::get_sentiment(text, method="bing"),
afinn = syuzhet::get_sentiment(text, method="afinn"),
vader = get_vader_sentiment(text)
) %>%
pivot_longer(
cols = syuzhet:vader,
names_to = "model",
values_to = "score") %>%
select(-text)
?map
purrr::map(
readr::read_csv("data/biography-corpus/all-sentences.csv"),
vader::get_vader,
.progress = TRUE
)
purrr::map(
readr::read_csv("data/biography-corpus/all-sentences.csv")$text,
vader::get_vader,
.progress = TRUE
)
vader::get_vader("hello my name is death")
vader::get_vader("hello my name is death")$compound
vader::get_vader("hello my name is death")[1]
vader::get_vader("hello my name is death")[2]
as.numeric(vader::get_vader("hello my name is death")[2])
# Sentiment analysis of the biographies in the corpus using syuzhet and vader
library(tidyverse)
get_vader_sentiment <- function(text) {
purrr::map_dbl(
text,
\(x) vader::get_vader(x)[2], # compound score at idx 2,
.progress = "Vader scores"
)
}
corpus <- readr::read_csv("data/biography-corpus/all-sentences.csv") %>%
mutate(
syuzhet = syuzhet::get_sentiment(text, method="syuzhet"),
bing = syuzhet::get_sentiment(text, method="bing"),
afinn = syuzhet::get_sentiment(text, method="afinn"),
vader = get_vader_sentiment(text)
)
# Sentiment analysis of the biographies in the corpus using syuzhet and vader
library(tidyverse)
get_vader_sentiment <- function(text) {
purrr::map_chr(
text,
\(x) vader::get_vader(x)[2], # compound score at idx 2,
.progress = "Vader scores"
)
}
corpus <- readr::read_csv("data/biography-corpus/all-sentences.csv") %>%
mutate(
syuzhet = syuzhet::get_sentiment(text, method="syuzhet"),
bing = syuzhet::get_sentiment(text, method="bing"),
afinn = syuzhet::get_sentiment(text, method="afinn"),
vader = get_vader_sentiment(text)
)
write_csv(corpus, "data/biography-corpus/scored-sentences.csv")
